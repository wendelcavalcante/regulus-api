{"ast":null,"code":"var _jsxFileName = \"/home/wendel/desen/regulus/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Component } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Column } from 'primereact/column';\nimport { ProductService } from './service/ProductService';\nimport { MunicipioZonaDataService } from './service/municipio_zona.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor(props) {\n    super();\n    this.retrieveMunicipios = this.retrieveMunicipios.bind(this);\n    this.retrieveZonas = this.retrieveZonas.bind(this);\n    this.retrieveMagistrados = this.retrieveMagistrados.bind(this);\n    this.state = {\n      municipios: [],\n      zonas: [],\n      magistrados: []\n    };\n  }\n  componentDidMount() {\n    this.retrieveZonas();\n    this.retrieveMunicipios();\n    //this.updateZonas();\n  }\n\n  updateZonas() {\n    let items = this.state.zonas;\n    console.log(items.length);\n    items.forEach((zona, index) => {\n      zona.LABEL = zona.NUMERO + \" - \" + zona.SEDE;\n    });\n  }\n  retrieveZonas() {\n    MunicipioZonaDataService.getAllZonas().then(response => {\n      this.setState({\n        zonas: response.data\n      }, () => {\n        this.updateZonas();\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n  retrieveMunicipios() {\n    MunicipioZonaDataService.getAllMunicipios().then(response => {\n      this.setState({\n        municipios: response.data\n      });\n      //console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n  retrieveMagistrados(sede) {\n    MunicipioZonaDataService.getAllMagistrados(sede).then(response => {\n      this.setState({\n        magistrados: response.data\n      }, () => {\n        this.updateMagistrados();\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n  updateMagistrados() {\n    let items = this.state.magistrados;\n    console.log(items.length);\n    items.forEach((mag, index) => {\n      console.log(mag.dias_sem_mandato + 1);\n      mag.com_eleitoral = mag.dias_sem_mandato == 0 ? \"SIM\" : \"NÃO\";\n      if (mag.dias_sem_mandato == 100000) mag.dias_sem_mandato = '';\n      console.log(mag.com_eleitoral);\n    });\n    this.forceUpdate();\n  }\n  setMunicipio(valor) {\n    //alert(this.state.selectedMunicipio);\n    //alert(valor);\n    this.setState({\n      selectedZona: valor\n    });\n    this.retrieveMagistrados(valor.SEDE);\n  }\n  rowClassName(data) {\n    return data.com_eleitoral == 'SIM' ? 'destaqueRowColor' : '';\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card justify-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n        options: this.state.zonas,\n        optionLabel: \"LABEL\",\n        onChange: e => this.setMunicipio(e.value),\n        placeholder: \"Escolha uma zona\",\n        className: \"w-full md:w-14rem\",\n        value: this.state.selectedZona,\n        filter: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          value: this.state.magistrados,\n          tableStyle: {\n            minWidth: '50rem'\n          },\n          rows: 20,\n          rowClassName: this.rowClassName,\n          paginator: true,\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            field: \"nome\",\n            sortable: true,\n            header: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"comarca\",\n            sortable: true,\n            header: \"Comarca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"distancia\",\n            sortable: true,\n            header: \"Dist\\xE2ncia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"com_eleitoral\",\n            sortable: true,\n            header: \"Com eleitoral?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"dias_sem_mandato\",\n            sortable: true,\n            header: \"Dias sem eleitoral\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n//export default App;","map":{"version":3,"names":["React","useState","useEffect","Component","DataTable","Dropdown","Column","ProductService","MunicipioZonaDataService","jsxDEV","_jsxDEV","App","constructor","props","retrieveMunicipios","bind","retrieveZonas","retrieveMagistrados","state","municipios","zonas","magistrados","componentDidMount","updateZonas","items","console","log","length","forEach","zona","index","LABEL","NUMERO","SEDE","getAllZonas","then","response","setState","data","catch","e","getAllMunicipios","sede","getAllMagistrados","updateMagistrados","mag","dias_sem_mandato","com_eleitoral","forceUpdate","setMunicipio","valor","selectedZona","rowClassName","render","className","children","options","optionLabel","onChange","value","placeholder","filter","fileName","_jsxFileName","lineNumber","columnNumber","tableStyle","minWidth","rows","paginator","field","sortable","header"],"sources":["/home/wendel/desen/regulus/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Component } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Dropdown } from 'primereact/dropdown'\nimport { Column } from 'primereact/column';\nimport { ProductService } from './service/ProductService';\nimport { MunicipioZonaDataService } from './service/municipio_zona.service';\n\nexport default class App extends Component {\n    constructor(props) {\n        super();\n        this.retrieveMunicipios = this.retrieveMunicipios.bind(this);\n        this.retrieveZonas = this.retrieveZonas.bind(this);\n        this.retrieveMagistrados = this.retrieveMagistrados.bind(this);\n        this.state = {\n            municipios: [],\n            zonas: [],\n            magistrados: []\n        };\n    }\n    componentDidMount() {\n        this.retrieveZonas();\n        this.retrieveMunicipios();\n        //this.updateZonas();\n    }\n    updateZonas() {\n        let items = this.state.zonas;\n        console.log(items.length);\n        items.forEach((zona, index) => {\n            zona.LABEL = zona.NUMERO + \" - \" + zona.SEDE;\n          });\n    }\n    retrieveZonas() {\n        MunicipioZonaDataService.getAllZonas()\n            .then(response => {\n                this.setState({\n                    zonas: response.data\n                }, () => {  this.updateZonas();});\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n    retrieveMunicipios() {\n        MunicipioZonaDataService.getAllMunicipios()\n            .then(response => {\n                this.setState({\n                    municipios: response.data\n                });\n                //console.log(response.data);\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    retrieveMagistrados(sede) {\n        MunicipioZonaDataService.getAllMagistrados(sede)\n            .then(response => {\n                this.setState({\n                    magistrados: response.data\n                }, () => { this.updateMagistrados() });\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    updateMagistrados() {\n        let items = this.state.magistrados;\n        console.log(items.length);\n        items.forEach((mag, index) => {\n            console.log(mag.dias_sem_mandato + 1);\n            mag.com_eleitoral = (mag.dias_sem_mandato == 0 ? \"SIM\" : \"NÃO\");\n            if(mag.dias_sem_mandato == 100000)\n                mag.dias_sem_mandato = '';\n            console.log(mag.com_eleitoral);\n          });\n        this.forceUpdate();\n    }\n    setMunicipio(valor) {\n        //alert(this.state.selectedMunicipio);\n        //alert(valor);\n        this.setState({selectedZona: valor});\n        this.retrieveMagistrados(valor.SEDE);\n    }\n\n    rowClassName(data) {\n        return data.com_eleitoral == 'SIM' ? 'destaqueRowColor' : '';\n    }\n    render() {\n        return (\n            <div className=\"card justify-content-center\">\n                <Dropdown options={this.state.zonas} \n                    optionLabel=\"LABEL\"\n                    onChange={(e) => this.setMunicipio(e.value)} \n                    placeholder=\"Escolha uma zona\" className=\"w-full md:w-14rem\" \n                    value={this.state.selectedZona} filter />\n                <div className=\"card\">\n                    <DataTable value={this.state.magistrados} tableStyle={{ minWidth: '50rem' }} rows={20} rowClassName={this.rowClassName} paginator>\n                        <Column field=\"nome\" sortable header=\"Nome\"></Column>\n                        <Column field=\"comarca\" sortable header=\"Comarca\"></Column>\n                        <Column field=\"distancia\" sortable header=\"Distância\"></Column>\n                        <Column field=\"com_eleitoral\" sortable header=\"Com eleitoral?\"></Column>\n                        <Column field=\"dias_sem_mandato\" sortable header=\"Dias sem eleitoral\"></Column>\n                    </DataTable>\n                </div>\n            </div>\n        );\n    }\n\n\n}\n\n//export default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}